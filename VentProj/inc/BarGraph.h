/*
 * BarGraph.h
 *
 *  Created on: 1.2.2016
 *      Author: krl
 */

#ifndef BARGRAPH_H_
#define BARGRAPH_H_

#include "LiquidCrystal.h"

class BarGraph {
public:
	BarGraph(LiquidCrystal& lcd, int length = 5, int maxval = 100, bool vertical = false);
	//virtual ~BarGraph();
	void draw(int value);

private:
	LiquidCrystal& lcd;
	int const length;
	int const maxval;
	bool const vertical;
	int size;
	static constexpr uint8_t horizontalMap[8][8] = {
			{ 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10 },
			{ 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18 },
			{ 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C },
			{ 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E },
			{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F }
	};
	static constexpr uint8_t verticalMap[8][8] = {
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F }
	};
};

#endif /* BARGRAPH_H_ */
