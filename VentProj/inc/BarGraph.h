/*
 * BarGraph.h
 *
 *  Created on: 1.2.2016
 *      Author: krl
 */

#ifndef BARGRAPH_H_
#define BARGRAPH_H_

#include "LiquidCrystal.h"

class BarGraph {
public:
	BarGraph(LiquidCrystal& lcd_, int length_ = 5, int maxval = 100, bool vertical_ = false);
	virtual ~BarGraph();
	void draw(int value);

protected:
	LiquidCrystal& lcd;

private:
	static constexpr uint8_t horizontalMap[8][8] = {
			{ 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10 },
			{ 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18 },
			{ 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C, 0x1C },
			{ 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E, 0x1E },
			{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F }
	};
	static constexpr uint8_t verticalMap[8][8] = {
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F },
			{ 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F, 0x1F }
	};
	int length;
	int maxval;
	bool vertical;
	int size;
};

#endif /* BARGRAPH_H_ */
